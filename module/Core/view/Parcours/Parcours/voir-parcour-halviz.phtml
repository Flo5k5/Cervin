
<script type="text/javascript">



/*document.observe('dom:loaded', function() {
	new Canviz('canviz', "<?php echo ROOT_DIR.$this->basePath() .'/'. $file;?>");
});

*/

</script>

<script type="text/vnd.graphviz" id="cluster">
digraph "G" { <?php echo $dot ; ?> }
</script>

<?php

/*
$this->headScript()->appendFile($this->basePath() . '/js/canviz/prototype.js');
$this->headScript()->appendFile($this->basePath() . '/js/canviz/canviz.js');
 echo $this->headScript()->appendFile($this->basePath() . '/js/canviz/path.js');*/
 echo $this->headScript()->appendFile($this->basePath() . '/js/canviz/viz.js');

?>
   <script>
      
      function inspect(s) {
        return "<pre>" + s.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\"/g, "&quot;") + "</pre>"
      }
      
      function src(id) {
        return document.getElementById(id).innerHTML;
      }
      
      function example(id, format) {
        var result;
        try {
          result = Viz(src(id), format);
          if (format === "svg")
            return result;
          else
            return inspect(result);
        } catch(e) {
          return inspect(e.toString());
        }
      }
      
      
      document.body.innerHTML += "<h1>Cluster (svg output)</h1>";
      document.body.innerHTML += example("cluster", "svg");
      

      
    </script>
    


